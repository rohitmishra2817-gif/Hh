<!doctype html>

<html lang="hi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>‡§π‡§ø‡§Ç‡§¶‡•Ä IQ ‡§ü‡•á‡§∏‡•ç‡§ü ‚Äî Dark Premium</title>
<style>
  body {
    background: radial-gradient(ellipse at center, #040404 0%, #000000 60%);
    color: #ffd166;
    font-family: 'Poppins', sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    margin: 0;
    text-align: center;
    overflow: hidden;
  }
  h1 {
    font-size: 2.2rem;
    color: #ffb703;
    margin-bottom: 0.6rem;
    text-shadow: 0 6px 24px rgba(255,183,3,0.08);
  }
  #question {
    font-size: 1.9rem;
    margin: 18px;
    padding: 28px 34px;
    border-radius: 18px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    box-shadow: 0 8px 40px rgba(255,215,0,0.06);
    max-width: 88%;
    color: #fff6df;
    font-weight: 600;
    line-height: 1.3;
  }
  #answer {
    font-size: 1.6rem;
    margin-top: 20px;
    color: #bff5c6;
    min-height: 48px;
  }
  #thinkingTimer, #timerCircle {
    margin-top: 24px;
    font-size: 1.25rem;
    color: #ffdd99;
  }
  #timerCircle {
    position: relative;
    width: 170px;
    height: 170px;
    border-radius: 50%;
    border: 6px solid rgba(255, 215, 0, 0.12);
    display: none;
    align-items: center;
    justify-content: center;
    margin-top: 18px;
  }
  #circle {
    position: absolute;
    width: 170px;
    height: 170px;
    border-radius: 50%;
    border: 8px solid rgba(255,200,80,0.12);
    box-shadow: 0 8px 40px rgba(255,183,3,0.06);
    transform: rotate(-90deg);
    transform-origin: center;
    transition: transform 0.9s linear;
  }
  #timeText {
    position: absolute;
    font-size: 2.2rem;
    color: #fff;
    font-weight: 700;
    text-shadow: 0 6px 18px rgba(0,0,0,0.6);
  }
  button {
    background: linear-gradient(90deg,#ffb703,#ffd166);
    color: #06121a;
    border: none;
    padding: 12px 26px;
    border-radius: 12px;
    font-size: 1.15rem;
    cursor: pointer;
    margin-top: 28px;
    box-shadow: 0 8px 30px rgba(255,183,3,0.08);
  }
  button:hover { transform: translateY(-3px); }
  @media (max-width:600px){
    #question{font-size:1.4rem;padding:20px}
    #timeText{font-size:1.8rem}
  }
</style>
</head>
<body>
  <h1>‡§π‡§ø‡§Ç‡§¶‡•Ä IQ ‡§ü‡•á‡§∏‡•ç‡§ü ‚Äî Dark Premium</h1>
  <div id="question">‡§™‡•ç‡§∞‡§æ‡§∞‡§Ç‡§≠ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§®‡•Ä‡§ö‡•á ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç</div>
  <div id="thinkingTimer"></div>
  <div id="answer"></div>  <div id="timerCircle">
    <svg id="svgCircle" width="170" height="170" viewBox="0 0 120 120">
      <defs>
        <linearGradient id="g" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="0%" stop-color="#ffd18a" />
          <stop offset="100%" stop-color="#ffb86b" />
        </linearGradient>
      </defs>
      <circle cx="60" cy="60" r="54" stroke="rgba(255,215,0,0.08)" stroke-width="12" fill="none" />
      <circle id="progress" cx="60" cy="60" r="54" stroke="url(#g)" stroke-width="12" fill="none" stroke-linecap="round" stroke-dasharray="339.292" stroke-dashoffset="339.292" transform="rotate(-90 60 60)" />
    </svg>
    <div id="timeText">10</div>
  </div><button id="startBtn">Start</button>

<script>
// --- Questions list (add more or replace with generator) ---
const qaList = [
  {q:"‡§Ö‡§ó‡§∞ 2 ‡§¨‡§ø‡§≤‡•ç‡§≤‡•Ä 2 ‡§ö‡•Ç‡§π‡•á 2 ‡§Æ‡§ø‡§®‡§ü ‡§Æ‡•á‡§Ç ‡§™‡§ï‡§°‡§º‡§§‡•Ä ‡§π‡•à‡§Ç, ‡§§‡•ã 100 ‡§¨‡§ø‡§≤‡•ç‡§≤‡•Ä 100 ‡§ö‡•Ç‡§π‡•á ‡§ï‡§ø‡§§‡§®‡•á ‡§Æ‡§ø‡§®‡§ü ‡§Æ‡•á‡§Ç ‡§™‡§ï‡§°‡§º‡•á‡§Ç‡§ó‡•Ä?",a:"2 ‡§Æ‡§ø‡§®‡§ü"},
  {q:"‡§è‡§ï ‡§Ü‡§¶‡§Æ‡•Ä ‡§ï‡•á 3 ‡§¨‡•á‡§ü‡•á ‡§π‡•à‡§Ç‡•§ ‡§π‡§∞ ‡§¨‡•á‡§ü‡•á ‡§ï‡•Ä 1 ‡§¨‡§π‡§® ‡§π‡•à‡•§ ‡§ï‡•Å‡§≤ ‡§ï‡§ø‡§§‡§®‡•á ‡§¨‡§ö‡•ç‡§ö‡•á ‡§π‡•à‡§Ç?",a:"4 ‡§¨‡§ö‡•ç‡§ö‡•á"},
  {q:"‡§Ö‡§ó‡§∞ ‡§ï‡§≤ ‡§ó‡•Å‡§∞‡•Å‡§µ‡§æ‡§∞ ‡§•‡§æ, ‡§§‡•ã ‡§ï‡§≤ ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§ï‡•å‡§® ‡§∏‡§æ ‡§¶‡§ø‡§® ‡§π‡•ã‡§ó‡§æ?",a:"‡§∂‡§®‡§ø‡§µ‡§æ‡§∞"},
  {q:"10, 20, 30, 40, ___?",a:"50"},
  {q:"‡§Ö‡§ó‡§∞ ‡§ü‡•ç‡§∞‡•á‡§® 80 km/h ‡§ï‡•Ä ‡§∞‡§´‡•ç‡§§‡§æ‡§∞ ‡§∏‡•á 1 ‡§ò‡§Ç‡§ü‡•á ‡§Æ‡•á‡§Ç 80 km ‡§ö‡§≤‡§§‡•Ä ‡§π‡•à, ‡§§‡•ã 2.5 ‡§ò‡§Ç‡§ü‡•á ‡§Æ‡•á‡§Ç ‡§ï‡§ø‡§§‡§®‡•Ä ‡§¶‡•Ç‡§∞‡•Ä ‡§§‡§Ø ‡§ï‡§∞‡•á‡§ó‡•Ä?",a:"200 km"},
  // ... ‡§Ü‡§™ ‡§Ø‡§π‡§æ‡§Å 1000 ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§ú‡•ã‡§°‡§º ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç ‡§Ø‡§æ auto-generator ‡§≤‡§ó‡§æ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç
];

let index = 0;
let thinkInterval = null;
let ambient = null; // ambient sound controller
let tickAudio = new Audio('https://actions.google.com/sounds/v1/alarms/clock_ticking.ogg');
tickAudio.loop = true;

// --- Ambient sound using WebAudio (no external copyrighted file) ---
function createAmbient(ctx) {
  // gentle two-oscillator pad with slow amplitude LFO
  const master = ctx.createGain();
  master.gain.value = 0.06; // very low volume
  master.connect(ctx.destination);

  const osc1 = ctx.createOscillator();
  osc1.type = 'sine';
  osc1.frequency.value = 220; // A3-ish

  const osc2 = ctx.createOscillator();
  osc2.type = 'sine';
  osc2.frequency.value = 132; // lower harmonic

  const lfo = ctx.createOscillator();
  lfo.type = 'sine';
  lfo.frequency.value = 0.25; // slow modulation
  const lfoGain = ctx.createGain();
  lfoGain.gain.value = 0.18;
  lfo.connect(lfoGain);

  const gain1 = ctx.createGain();
  gain1.gain.value = 0.6;
  const gain2 = ctx.createGain();
  gain2.gain.value = 0.45;

  lfoGain.connect(gain1.gain);
  // combine oscillators
  osc1.connect(gain1);
  osc2.connect(gain2);
  gain1.connect(master);
  gain2.connect(master);

  let running = false;
  return {
    start: function() {
      if (running) return;
      running = true;
      if (ctx.state === 'suspended') ctx.resume();
      osc1.start();
      osc2.start();
      lfo.start();
    },
    stop: function() {
      if (!running) return;
      // graceful stop with gain ramp
      master.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime + 0.6);
      setTimeout(()=>{
        try{ osc1.stop(); osc2.stop(); lfo.stop(); }catch(e){}
        running = false;
      },700);
    }
  };
}

let audioCtx = null;
function ensureAudio() {
  if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  if (!ambient) ambient = createAmbient(audioCtx);
}

// --- Core flow ---
function startQuiz() {
  // user gesture ensures audio allowed on mobile
  ensureAudio();
  document.getElementById('startBtn').style.display = 'none';
  showQuestion();
}

function showQuestion() {
  // stop any timers
  clearInterval(thinkInterval);
  // hide progress circle
  document.getElementById('timerCircle').style.display = 'none';
  document.getElementById('answer').innerText = '';

  if (index >= qaList.length) {
    document.getElementById('question').innerText = '‡§ü‡•á‡§∏‡•ç‡§ü ‡§™‡•Ç‡§∞‡§æ ‡§π‡•Å‡§Ü! üéâ';
    document.getElementById('thinkingTimer').innerText = '';
    return;
  }

  document.getElementById('question').innerText = qaList[index].q;
  // start ambient sound
  if (ambient) ambient.start();

  // thinking timer: 30 seconds with visible countdown
  let thinkTime = 30;
  document.getElementById('thinkingTimer').innerText = `‡§∏‡•ã‡§ö‡§®‡•á ‡§ï‡§æ ‡§∏‡§Æ‡§Ø: ${thinkTime} ‡§∏‡•á‡§ï‡§Ç‡§°`;
  thinkInterval = setInterval(() => {
    thinkTime--;
    document.getElementById('thinkingTimer').innerText = `‡§∏‡•ã‡§ö‡§®‡•á ‡§ï‡§æ ‡§∏‡§Æ‡§Ø: ${thinkTime} ‡§∏‡•á‡§ï‡§Ç‡§°`;
    if (thinkTime <= 0) {
      clearInterval(thinkInterval);
      // stop ambient and show answer
      if (ambient) ambient.stop();
      showAnswer();
    }
  }, 1000);
}

function showAnswer() {
  document.getElementById('thinkingTimer').innerText = '';
  document.getElementById('answer').innerHTML = `<strong>‡§Ü‡§™‡§ï‡§æ ‡§ú‡§µ‡§æ‡§¨ ‡§Ø‡•á ‡§∞‡§π‡§æ:</strong> ${qaList[index].a}`;
  const utter = new SpeechSynthesisUtterance(`‡§Ü‡§™‡§ï‡§æ ‡§ú‡§µ‡§æ‡§¨ ‡§Ø‡•á ‡§∞‡§π‡§æ: ${qaList[index].a}`);
  utter.lang = 'hi-IN';
  speechSynthesis.speak(utter);

  // wait 5 seconds while answer is visible
  setTimeout(() => {
    // start circular 10s timer with tick sound
    startCircularTimer();
  }, 5000);
}

function startCircularTimer() {
  const progress = document.getElementById('progress');
  const timeText = document.getElementById('timeText');
  const timerDiv = document.getElementById('timerCircle');
  timerDiv.style.display = 'flex';

  // animate SVG stroke-dashoffset from full to 0 over 10s
  const circumference = 2 * Math.PI * 54; // r=54
  progress.style.transition = 'none';
  progress.style.strokeDasharray = `${circumference}`;
  progress.style.strokeDashoffset = `${circumference}`;

  // small delay to allow paint
  setTimeout(()=>{
    progress.style.transition = 'stroke-dashoffset 10s linear';
    progress.style.strokeDashoffset = '0';
  },10);

  // tick sound
  try { tickAudio.currentTime = 0; tickAudio.play(); } catch(e){}

  let t = 10;
  timeText.textContent = t;
  const iv = setInterval(()=>{
    t--;
    timeText.textContent = t;
    if (t <= 0) {
      clearInterval(iv);
      try{ tickAudio.pause(); }catch(e){}
      timerDiv.style.display = 'none';
      // reset progress instantly for next time
      progress.style.transition = 'none';
      const circumference = 2 * Math.PI * 54;
      progress.style.strokeDashoffset = `${circumference}`;

      index++;
      showQuestion();
    }
  },1000);
}

// start button
document.getElementById('startBtn').addEventListener('click', startQuiz);
</script></body>
</html>
